<div class="page" [ngClass]="{fading: fadeOut}">
    <div *ngIf="!streaming">
        <app-sky></app-sky>
        <div class="row" style="position: relative; top: -15px">
            <div class="col" style="border-right: solid 1px white">
                <h2>Select active screen</h2>
                <app-select-screens [disabled]="streaming" [sources]="sources"></app-select-screens>
            </div>
            <div class="col">
                <h2 style="margin-bottom: 50px">Pincode</h2>
                <app-pin-form [disabled]="streaming"></app-pin-form>
            </div>
        </div>
        <hr style="margin-top: 10px;" />
    </div>
    <div *ngIf="streaming">
        <p>IP: {{ ip }}</p>
        <app-url-shortener></app-url-shortener>
        <p>Status:
            <span *ngIf="status.current === 'active'">Active</span>
            <span *ngIf="status.current === 'inactive'">Inactive</span>
            <span *ngIf="status.current === 'setting-up'">Setting up...</span>
            <span *ngIf="status.current === 'waiting-for-client'">Waiting for client</span>
        </p>
        <input type="range" min=".5" max="2" step=".1" (input)="onSourceScaleChange()" [(ngModel)]="sourceScale" />
        <button type="button" class="btn btn-light"  (click)="centerScreen()">Center Screen</button>
        <hr style="margin-top: 10px;" />
    </div>
    <app-stream-toggle class="page" [ngClass]="{fading: fadeOut}" [status]="status" [sources]="sources" (streaming)="setStreaming($event)"></app-stream-toggle>
</div>